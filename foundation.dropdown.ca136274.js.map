{"version":3,"sources":["bower_components/foundation/js/foundation/foundation.dropdown.js"],"names":["$","window","document","undefined","Foundation","libs","dropdown","name","version","settings","active_class","disabled_class","mega_class","align","is_hover","hover_timeout","opened","closed","init","scope","method","options","inherit","extend","bindings","events","self","S","off","on","attr_name","e","data","Modernizr","touch","preventDefault","parent","length","stopPropagation","toggle","$this","target","clearTimeout","timeout","data_attr","attr","currentTarget","closeall","call","open","apply","setTimeout","close","bind","closest","find","contains","documentElement","is","first","throttle","resize","each","idx","id","hasClass","css","rtl","removeClass","prev","removeData","trigger","addClass","get","focus","namespace","not","left_offset","Math","max","width","parentOverflow","clear_idx","small","p","dirs","bottom","position","top","offset","offsetTop","offsetHeight","style","_base","t","s","o_p","o","offsetParent","left","missRight","missTop","missLeft","leftRightFlag","windowWidth","innerWidth","actualMarginWidth","getElementsByClassName","clientWidth","ignore_repositioning","outerWidth","o_left","outerHeight","mega_menu","adjust_pip","right","triggeredRight","sheet","stylesheet","pip_offset_base","rule_idx","cssRules","sel_before","sel_after","css_before","css_after","insertRule","join","addRule","deleteRule","matchMedia","media_queries","matches","medium","reflow","jQuery"],"mappings":"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","file":"foundation.dropdown.ca136274.js","sourceRoot":"../app","sourcesContent":[";(function ($, window, document, undefined) {\n  'use strict';\n\n  Foundation.libs.dropdown = {\n    name : 'dropdown',\n\n    version : '5.5.3',\n\n    settings : {\n      active_class : 'open',\n      disabled_class : 'disabled',\n      mega_class : 'mega',\n      align : 'bottom',\n      is_hover : false,\n      hover_timeout : 150,\n      opened : function () {},\n      closed : function () {}\n    },\n\n    init : function (scope, method, options) {\n      Foundation.inherit(this, 'throttle');\n\n      $.extend(true, this.settings, method, options);\n      this.bindings(method, options);\n    },\n\n    events : function (scope) {\n      var self = this,\n          S = self.S;\n\n      S(this.scope)\n        .off('.dropdown')\n        .on('click.fndtn.dropdown', '[' + this.attr_name() + ']', function (e) {\n          var settings = S(this).data(self.attr_name(true) + '-init') || self.settings;\n          if (!settings.is_hover || Modernizr.touch) {\n            e.preventDefault();\n            if (S(this).parent('[data-reveal-id]').length) {\n              e.stopPropagation();\n            }\n            self.toggle($(this));\n          }\n        })\n        .on('mouseenter.fndtn.dropdown', '[' + this.attr_name() + '], [' + this.attr_name() + '-content]', function (e) {\n          var $this = S(this),\n              dropdown,\n              target;\n\n          clearTimeout(self.timeout);\n\n          if ($this.data(self.data_attr())) {\n            dropdown = S('#' + $this.data(self.data_attr()));\n            target = $this;\n          } else {\n            dropdown = $this;\n            target = S('[' + self.attr_name() + '=\"' + dropdown.attr('id') + '\"]');\n          }\n\n          var settings = target.data(self.attr_name(true) + '-init') || self.settings;\n\n          if (S(e.currentTarget).data(self.data_attr()) && settings.is_hover) {\n            self.closeall.call(self);\n          }\n\n          if (settings.is_hover) {\n            self.open.apply(self, [dropdown, target]);\n          }\n        })\n        .on('mouseleave.fndtn.dropdown', '[' + this.attr_name() + '], [' + this.attr_name() + '-content]', function (e) {\n          var $this = S(this);\n          var settings;\n\n          if ($this.data(self.data_attr())) {\n              settings = $this.data(self.data_attr(true) + '-init') || self.settings;\n          } else {\n              var target   = S('[' + self.attr_name() + '=\"' + S(this).attr('id') + '\"]'),\n                  settings = target.data(self.attr_name(true) + '-init') || self.settings;\n          }\n\n          self.timeout = setTimeout(function () {\n            if ($this.data(self.data_attr())) {\n              if (settings.is_hover) {\n                self.close.call(self, S('#' + $this.data(self.data_attr())));\n              }\n            } else {\n              if (settings.is_hover) {\n                self.close.call(self, $this);\n              }\n            }\n          }.bind(this), settings.hover_timeout);\n        })\n        .on('click.fndtn.dropdown', function (e) {\n          var parent = S(e.target).closest('[' + self.attr_name() + '-content]');\n          var links  = parent.find('a');\n\n          if (links.length > 0 && parent.attr('aria-autoclose') !== 'false') {\n              self.close.call(self, S('[' + self.attr_name() + '-content]'));\n          }\n\n          if (e.target !== document && !$.contains(document.documentElement, e.target)) {\n            return;\n          }\n\n          if (S(e.target).closest('[' + self.attr_name() + ']').length > 0) {\n            return;\n          }\n\n          if (!(S(e.target).data('revealId')) &&\n            (parent.length > 0 && (S(e.target).is('[' + self.attr_name() + '-content]') ||\n              $.contains(parent.first()[0], e.target)))) {\n            e.stopPropagation();\n            return;\n          }\n\n          self.close.call(self, S('[' + self.attr_name() + '-content]'));\n        })\n        .on('opened.fndtn.dropdown', '[' + self.attr_name() + '-content]', function () {\n          self.settings.opened.call(this);\n        })\n        .on('closed.fndtn.dropdown', '[' + self.attr_name() + '-content]', function () {\n          self.settings.closed.call(this);\n        });\n\n      S(window)\n        .off('.dropdown')\n        .on('resize.fndtn.dropdown', self.throttle(function () {\n          self.resize.call(self);\n        }, 50));\n\n      this.resize();\n    },\n\n    close : function (dropdown) {\n      var self = this;\n      dropdown.each(function (idx) {\n        var original_target = $('[' + self.attr_name() + '=' + dropdown[idx].id + ']') || $('aria-controls=' + dropdown[idx].id + ']');\n        original_target.attr('aria-expanded', 'false');\n        if (self.S(this).hasClass(self.settings.active_class)) {\n          self.S(this)\n            .css(Foundation.rtl ? 'right' : 'left', '-99999px')\n            .attr('aria-hidden', 'true')\n            .removeClass(self.settings.active_class)\n            .prev('[' + self.attr_name() + ']')\n            .removeClass(self.settings.active_class)\n            .removeData('target');\n\n          self.S(this).trigger('closed.fndtn.dropdown', [dropdown]);\n        }\n      });\n      dropdown.removeClass('f-open-' + this.attr_name(true));\n    },\n\n    closeall : function () {\n      var self = this;\n      $.each(self.S('.f-open-' + this.attr_name(true)), function () {\n        self.close.call(self, self.S(this));\n      });\n    },\n\n    open : function (dropdown, target) {\n      this\n        .css(dropdown\n        .addClass(this.settings.active_class), target);\n      dropdown.prev('[' + this.attr_name() + ']').addClass(this.settings.active_class);\n      dropdown.data('target', target.get(0)).trigger('opened.fndtn.dropdown', [dropdown, target]);\n      dropdown.attr('aria-hidden', 'false');\n      target.attr('aria-expanded', 'true');\n      dropdown.focus();\n      dropdown.addClass('f-open-' + this.attr_name(true));\n    },\n\n    data_attr : function () {\n      if (this.namespace.length > 0) {\n        return this.namespace + '-' + this.name;\n      }\n\n      return this.name;\n    },\n\n    toggle : function (target) {\n      if (target.hasClass(this.settings.disabled_class)) {\n        return;\n      }\n      var dropdown = this.S('#' + target.data(this.data_attr()));\n      if (dropdown.length === 0) {\n        // No dropdown found, not continuing\n        return;\n      }\n\n      this.close.call(this, this.S('[' + this.attr_name() + '-content]').not(dropdown));\n\n      if (dropdown.hasClass(this.settings.active_class)) {\n        this.close.call(this, dropdown);\n        if (dropdown.data('target') !== target.get(0)) {\n          this.open.call(this, dropdown, target);\n        }\n      } else {\n        this.open.call(this, dropdown, target);\n      }\n    },\n\n    resize : function () {\n      var dropdown = this.S('[' + this.attr_name() + '-content].open');\n      var target = $(dropdown.data(\"target\"));\n\n      if (dropdown.length && target.length) {\n        this.css(dropdown, target);\n      }\n    },\n\n    css : function (dropdown, target) {\n      var left_offset = Math.max((target.width() - dropdown.width()) / 2, 8),\n          settings = target.data(this.attr_name(true) + '-init') || this.settings,\n          parentOverflow = dropdown.parent().css('overflow-y') || dropdown.parent().css('overflow');\n\n      this.clear_idx();\n\n\n\n      if (this.small()) {\n        var p = this.dirs.bottom.call(dropdown, target, settings);\n\n        dropdown.attr('style', '').removeClass('drop-left drop-right drop-top').css({\n          position : 'absolute',\n          width : '95%',\n          'max-width' : 'none',\n          top : p.top\n        });\n\n        dropdown.css(Foundation.rtl ? 'right' : 'left', left_offset);\n      }\n      // detect if dropdown is in an overflow container\n      else if (parentOverflow !== 'visible') {\n        var offset = target[0].offsetTop + target[0].offsetHeight;\n\n        dropdown.attr('style', '').css({\n          position : 'absolute',\n          top : offset\n        });\n\n        dropdown.css(Foundation.rtl ? 'right' : 'left', left_offset);\n      }\n      else {\n\n        this.style(dropdown, target, settings);\n      }\n\n      return dropdown;\n    },\n\n    style : function (dropdown, target, settings) {\n      var css = $.extend({position : 'absolute'},\n        this.dirs[settings.align].call(dropdown, target, settings));\n\n      dropdown.attr('style', '').css(css);\n    },\n\n    // return CSS property object\n    // `this` is the dropdown\n    dirs : {\n      // Calculate target offset\n      _base : function (t, s) {\n        var o_p = this.offsetParent(),\n            o = o_p.offset(),\n            p = t.offset();\n\n        p.top -= o.top;\n        p.left -= o.left;\n\n        //set some flags on the p object to pass along\n        p.missRight = false;\n        p.missTop = false;\n        p.missLeft = false;\n        p.leftRightFlag = false;\n\n        //lets see if the panel will be off the screen\n        //get the actual width of the page and store it\n        var actualBodyWidth;\n        var windowWidth = window.innerWidth;\n        \n        if (document.getElementsByClassName('row')[0]) {\n          actualBodyWidth = document.getElementsByClassName('row')[0].clientWidth;\n        } else {\n          actualBodyWidth = windowWidth;\n        }\n\n        var actualMarginWidth = (windowWidth - actualBodyWidth) / 2;\n        var actualBoundary = actualBodyWidth;\n\n        if (!this.hasClass('mega') && !s.ignore_repositioning) {\n          var outerWidth = this.outerWidth();\n          var o_left = t.offset().left;\n\t\t  \n          //miss top\n          if (t.offset().top <= this.outerHeight()) {\n            p.missTop = true;\n            actualBoundary = windowWidth - actualMarginWidth;\n            p.leftRightFlag = true;\n          }\n\n          //miss right\n          if (o_left + outerWidth > o_left + actualMarginWidth && o_left - actualMarginWidth > outerWidth) {\n            p.missRight = true;\n            p.missLeft = false;\n          }\n\n          //miss left\n          if (o_left - outerWidth <= 0) {\n            p.missLeft = true;\n            p.missRight = false;\n          }\n        }\n\n        return p;\n      },\n\n      top : function (t, s) {\n        var self = Foundation.libs.dropdown,\n            p = self.dirs._base.call(this, t, s);\n\n        this.addClass('drop-top');\n\n        if (p.missTop == true) {\n          p.top = p.top + t.outerHeight() + this.outerHeight();\n          this.removeClass('drop-top');\n        }\n\n        if (p.missRight == true) {\n          p.left = p.left - this.outerWidth() + t.outerWidth();\n        }\n\n        if (t.outerWidth() < this.outerWidth() || self.small() || this.hasClass(s.mega_menu)) {\n          self.adjust_pip(this, t, s, p);\n        }\n\n        if (Foundation.rtl) {\n          return {left : p.left - this.outerWidth() + t.outerWidth(),\n            top : p.top - this.outerHeight()};\n        }\n\n        return {left : p.left, top : p.top - this.outerHeight()};\n      },\n\n      bottom : function (t, s) {\n        var self = Foundation.libs.dropdown,\n            p = self.dirs._base.call(this, t, s);\n\n        if (p.missRight == true) {\n          p.left = p.left - this.outerWidth() + t.outerWidth();\n        }\n\n        if (t.outerWidth() < this.outerWidth() || self.small() || this.hasClass(s.mega_menu)) {\n          self.adjust_pip(this, t, s, p);\n        }\n\n        if (self.rtl) {\n          return {left : p.left - this.outerWidth() + t.outerWidth(), top : p.top + t.outerHeight()};\n        }\n\n        return {left : p.left, top : p.top + t.outerHeight()};\n      },\n\n      left : function (t, s) {\n        var p = Foundation.libs.dropdown.dirs._base.call(this, t, s);\n\n        this.addClass('drop-left');\n\n        if (p.missLeft == true) {\n          p.left =  p.left + this.outerWidth();\n          p.top = p.top + t.outerHeight();\n          this.removeClass('drop-left');\n        }\n\n        return {left : p.left - this.outerWidth(), top : p.top};\n      },\n\n      right : function (t, s) {\n        var p = Foundation.libs.dropdown.dirs._base.call(this, t, s);\n\n        this.addClass('drop-right');\n\n        if (p.missRight == true) {\n          p.left = p.left - this.outerWidth();\n          p.top = p.top + t.outerHeight();\n          this.removeClass('drop-right');\n        } else {\n          p.triggeredRight = true;\n        }\n\n        var self = Foundation.libs.dropdown;\n\n        if (t.outerWidth() < this.outerWidth() || self.small() || this.hasClass(s.mega_menu)) {\n          self.adjust_pip(this, t, s, p);\n        }\n\n        return {left : p.left + t.outerWidth(), top : p.top};\n      }\n    },\n\n    // Insert rule to style psuedo elements\n    adjust_pip : function (dropdown, target, settings, position) {\n      var sheet = Foundation.stylesheet,\n          pip_offset_base = 8;\n\n      if (dropdown.hasClass(settings.mega_class)) {\n        pip_offset_base = position.left + (target.outerWidth() / 2) - 8;\n      } else if (this.small()) {\n        pip_offset_base += position.left - 8;\n      }\n\n      this.rule_idx = sheet.cssRules.length;\n\n      //default\n      var sel_before = '.f-dropdown.open:before',\n          sel_after  = '.f-dropdown.open:after',\n          css_before = 'left: ' + pip_offset_base + 'px;',\n          css_after  = 'left: ' + (pip_offset_base - 1) + 'px;';\n\n      if (position.missRight == true) {\n        pip_offset_base = dropdown.outerWidth() - 23;\n        sel_before = '.f-dropdown.open:before',\n        sel_after  = '.f-dropdown.open:after',\n        css_before = 'left: ' + pip_offset_base + 'px;',\n        css_after  = 'left: ' + (pip_offset_base - 1) + 'px;';\n      }\n\n      //just a case where right is fired, but its not missing right\n      if (position.triggeredRight == true) {\n        sel_before = '.f-dropdown.open:before',\n        sel_after  = '.f-dropdown.open:after',\n        css_before = 'left:-12px;',\n        css_after  = 'left:-14px;';\n      }\n\n      if (sheet.insertRule) {\n        sheet.insertRule([sel_before, '{', css_before, '}'].join(' '), this.rule_idx);\n        sheet.insertRule([sel_after, '{', css_after, '}'].join(' '), this.rule_idx + 1);\n      } else {\n        sheet.addRule(sel_before, css_before, this.rule_idx);\n        sheet.addRule(sel_after, css_after, this.rule_idx + 1);\n      }\n    },\n\n    // Remove old dropdown rule index\n    clear_idx : function () {\n      var sheet = Foundation.stylesheet;\n\n      if (typeof this.rule_idx !== 'undefined') {\n        sheet.deleteRule(this.rule_idx);\n        sheet.deleteRule(this.rule_idx);\n        delete this.rule_idx;\n      }\n    },\n\n    small : function () {\n      return matchMedia(Foundation.media_queries.small).matches &&\n        !matchMedia(Foundation.media_queries.medium).matches;\n    },\n\n    off : function () {\n      this.S(this.scope).off('.fndtn.dropdown');\n      this.S('html, body').off('.fndtn.dropdown');\n      this.S(window).off('.fndtn.dropdown');\n      this.S('[data-dropdown-content]').off('.fndtn.dropdown');\n    },\n\n    reflow : function () {}\n  };\n}(jQuery, window, window.document));\n"]}